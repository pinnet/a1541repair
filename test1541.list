C000-                  4                     .OR     $C000
C000-                  5                     .TA     $0000
C000-                  6       ;-------------------------------------------------------------------------
C000-                  7       ; 1541 Test Rom
C000-                  8       ;-------------------------------------------------------------------------
C000-                  9
C000-                 10       ;-------------------------------------------------------------------------
C000-                 11       ;  Memory declaration
C000-                 12       ;-------------------------------------------------------------------------
C000-                 13
C000-                 14       ;-------------------------------------------------------------------------
C000-                 15       ;  Constants
C000-                 16       ;-------------------------------------------------------------------------
C000-                 17
C000-                 18
C000-                 19       ;-------------------------------------------------------------------------
C000-                 20       ;  Let's get started
C000-                 21       ;
C000-                 22       ;  Remark the RESET routine is only to be entered by asserting the RESET
C000-                 23       ;  line of the system. This ensures that the data direction registers
C000-                 24       ;  are selected.
C000-                 25       ;-------------------------------------------------------------------------
C000-D8               26 (  2) RESET       CLD
C001-A9 08            27 (  2)             LDA #$08
C003-0D 00 1C         28 (  4)             ORA $1C00
C006-8D 00 1C         29 (  4)             STA $1C00     turn LED on
C009-8D 02 1C         30 (  4)             STA $1C02
C00C-                 31
C00C-A9 00            32 (  2) blink       LDA #$00
C00E-A8               33 (  2)             TAY
C00F-                 34
C00F-18               35 (  2) delay       CLC
C010-69 01            36 (  2) loop1       ADC #$01
C012-D0 FC            37 (2**)             BNE loop1
C014-88               38 (  2)             DEY
C015-D0 F8            39 (2**)             BNE delay
C017-                 40
C017-AD 00 1C         41 (  4)             LDA $1C00
C01A-29 F7            42 (  2)             AND #$F7      turn LED off
C01C-8D 00 1C         43 (  4)             STA $1C00
C01F-                 44
C01F-                 45
C01F-A9 00            46 (  2)             LDA #$00
C021-A8               47 (  2)             TAY
C022-18               48 (  2) delay2      CLC
C023-69 01            49 (  2) loop2       ADC #$01
C025-D0 E9            50 (2**)             BNE loop1
C027-88               51 (  2)             DEY
C028-D0 F8            52 (2**)             BNE delay2
C02A-                 53
C02A-A9 08            54 (  2)             LDA #$08
C02C-0D 00 1C         55 (  4)             ORA $1C00
C02F-8D 00 1C         56 (  4)             STA $1C00
C032-                 57
C032-4C 0C C0         58 (  3)             jmp blink
C035-                 59
C035-                 60
C035-                 61
C035-                 62
C035-                 63
C035-4C 00 C0         64 (  3)             jmp RESET
C038-                 65       IRQ
C038-                 66       NMI
C038-4C 38 C0         67 (  3) HALTLOOP        jmp     HALTLOOP
C03B-                 68
C03B-                 69
C03B-                 70       ;-------------------------------------------------------------------------
C03B-                 71       ;  Vector area
C03B-                 72       ;-------------------------------------------------------------------------
FFF8                 73                       .NO     $FFF8
FFF8-00 00            74                       .DA     $0000           Unused, what a pity
FFFA-38 C0            75       NMI_VEC         .DA     NMI             NMI vector
FFFC-00 C0            76       RESET_VEC       .DA     RESET           RESET vector
FFFE-38 C0            77       IRQ_VEC         .DA     IRQ             IRQ vector
